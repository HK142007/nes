<template name="emulator">
  {{# if rom }}
    <div id="Rom">
      <div class="name fs40">{{ rom.name }}</div>
      <div class="name fs20">{{ rom.description }}</div>
      <div class="options">
        <i class="fa fa-refresh refresh" aria-hidden="true"></i>
        <i class="fa fa-arrows-alt screen" aria-hidden="true"></i>
      </div>
      <canvas id="cfxnes"></canvas>
      {{ > controls }}
    </div>
  {{ else }}
    <div class="notFound condensed">
      <div class="fs40">No Rom.</div>
      <div>Go to the <a href="{{ pathFor route='Roms' }}">roms</a> page.</div>
    </div>
  {{/if}}
</template>

<template name="upload">
  <input type="file" class="dn" id="File" accept=".nes">
  <a href="#" id="Play" class="resetborder mr10">
    <i class="fa fa-upload"></i>
    {{#Â if uploadQueue.isRunning }}
      Uploading..
    {{ else }}
      Upload and Play
    {{/if}}
  </a>
</template>

<template name="controls">
  <table id="Controls" class="sigmar">
    <tbody>
      <tr riot-tag="controls-row" input="1.joypad.a" label="A">
        <td>A</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.a">X</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.b" label="B">
        <td>B</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.b">Y / Z</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.start" label="Start">
        <td>Start</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.start">Enter</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.select" label="Select">
        <td>Select</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.select">Shift</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.left" label="Left">
        <td>Left</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.left">Left</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.right" label="Right">
        <td>Right</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.right">Right</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.up" label="Up">
        <td>Up</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.up">Up</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="1.joypad.down" label="Down">
        <td>Down</td>
        <td>
          <mapped-inputs check-port="true" input="1.joypad.down">Down</mapped-inputs>
        </td>
      </tr>
      <tr riot-tag="controls-row" input="2.zapper.trigger" label="Zapper">
        <td>Zapper</td>
        <td>
          <mapped-inputs check-port="true" input="2.zapper.trigger">Left button</mapped-inputs>
        </td>
      </tr>
    </tbody>
  </table>
</template>
